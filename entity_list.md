# Sweet Seoul Korean Bakery - Entity List
*Oracle 19c Database Implementation - Complete Schema*

## Core Entities

### 1. **CUSTOMERS**
- **customer_id** (PK) - Generated by Default as Identity
- first_name, last_name, email (unique), phone
- join_date, address, city, state, postal_code
- is_online_customer, is_in_store_customer (NUMBER(1) flags)
- loyalty_points, loyalty_status, preferred_communication_method
- created_at, updated_at (TIMESTAMP fields)

### 2. **ORDERS**
- **order_id** (PK) - Generated by Default as Identity
- **customer_id** (FK to CUSTOMERS)
- order_date, subtotal, tax_amount, shipping_cost, discount_amount
- total_amount (calculated field), order_status, payment_method
- **marketing_channel_id** (FK to MARKETING_CHANNELS, nullable)
- platform ("online"/"in-store"), is_gift (NUMBER(1) flag)
- **gift_card_id** (FK to GIFT_CARDS, nullable)
- shipping_address, billing_address (VARCHAR2(500))
- created_at, updated_at

### 3. **ORDER_STATUS_HISTORY**
- **history_id** (PK) - Generated by Default as Identity
- **order_id** (FK to ORDERS)
- previous_status (nullable), new_status
- status_change_date (TIMESTAMP), updated_by, change_reason
- created_at, updated_at

### 4. **ORDER_ITEMS**
- **order_item_id** (PK) - Generated by Default as Identity
- **order_id** (FK to ORDERS)
- **product_id** (FK to PRODUCTS)
- quantity, unit_price, discount (item-level)
- created_at, updated_at

## Product & Inventory Management

### 5. **PRODUCTS**
- **product_id** (PK) - Generated by Default as Identity
- product_name (unique), description (VARCHAR2(4000))
- category, origin, base_price
- seasonal, expiry_date, limited_edition (NUMBER(1) flags)
- kpop_anime_tie_in (VARCHAR2(100), nullable)
- online_exclusive, in_store_exclusive (mutually exclusive flags)
- min_inventory_level
- created_at, updated_at

### 6. **INVENTORY**
- **inventory_id** (PK) - Generated by Default as Identity
- **product_id** (FK to PRODUCTS, unique)
- current_stock, reorder_point, min_stock_level, max_stock_level
- last_restock_date, expected_arrival
- storage_requirements (CLOB)
- created_at, updated_at

## Marketing & Promotions

### 7. **MARKETING_CHANNELS**
- **marketing_channel_id** (PK) - Generated by Default as Identity
- channel_name (unique), channel_type, specific_platform
- customer_acquisition_cost, conversion_rate
- created_at, updated_at

### 8. **PROMOTIONS**
- **promotion_id** (PK) - Generated by Default as Identity
- promotion_name, description (VARCHAR2(4000))
- start_date, end_date, discount_amount, discount_type
- platform ("online"/"in-store"/"both")
- kpop_anime_reference, promotion_type, min_purchase
- is_gift_card_promo (NUMBER(1) flag)
- created_at, updated_at

### 9. **CUSTOMER_PROMOTION**
- **customer_promotion_id** (PK) - Generated by Default as Identity
- **customer_id** (FK to CUSTOMERS)
- **promotion_id** (FK to PROMOTIONS)
- is_used (NUMBER(1) flag), date_offered, expiry_date
- times_used, usage_limit
- created_at, updated_at

### 10. **PRODUCT_PROMOTIONS**
- **product_promotion_id** (PK) - Generated by Default as Identity
- **product_id** (FK to PRODUCTS)
- **promotion_id** (FK to PROMOTIONS)
- override_discount_amount (nullable)
- effective_start_date, effective_end_date (nullable)
- created_at, updated_at

## Subscription System

### 11. **SUBSCRIPTIONS**
- **subscription_id** (PK) - Generated by Default as Identity
- **customer_id** (FK to CUSTOMERS)
- start_date, next_delivery_date, end_date (nullable)
- subscription_status, monthly_price, billing_cycle_months
- subscription_type ("Standard"/"Premium")
- is_gift, auto_renewal (NUMBER(1) flags)
- delivery_address (CLOB)
- created_at, updated_at

### 12. **SUBSCRIPTION_ITEMS**
- **subscription_item_id** (PK) - Generated by Default as Identity
- **subscription_id** (FK to SUBSCRIPTIONS)
- **product_id** (FK to PRODUCTS)
- delivery_date, quantity, delivery_status
- created_at, updated_at

## Customer Experience

### 13. **CUSTOMER_PREFERENCES**
- **preference_id** (PK) - Generated by Default as Identity
- **customer_id** (FK to CUSTOMERS, unique)
- flavor_preference, product_category_preference (CLOB fields)
- subscription_interest (NUMBER(1) flag)
- kpop_anime_interest (VARCHAR2(1000))
- created_at, updated_at

### 14. **FEEDBACK**
- **feedback_id** (PK) - Generated by Default as Identity
- **customer_id** (FK to CUSTOMERS)
- **order_id** (FK to ORDERS, nullable for general feedback)
- **product_id** (FK to PRODUCTS, nullable for general feedback)
- rating (1-5), review_text (VARCHAR2(4000))
- feedback_date, is_verified_purchase (NUMBER(1) flag)
- created_at, updated_at

### 15. **GIFT_CARDS**
- **gift_card_id** (PK) - Generated by Default as Identity
- **issuer_customer_id** (FK to CUSTOMERS)
- **recipient_customer_id** (FK to CUSTOMERS, nullable)
- gift_card_code (unique), initial_amount, current_balance
- issue_date, expiry_date, is_redeemed (NUMBER(1) flag)
- created_at, updated_at

## Entity Relationship Summary

### **Primary Relationships:**
- **CUSTOMERS** → **ORDERS** (1:M) - Customer order history
- **ORDERS** → **ORDER_ITEMS** (1:M) - Order line items
- **ORDERS** → **ORDER_STATUS_HISTORY** (1:M) - Status audit trail
- **PRODUCTS** → **INVENTORY** (1:1) - Product stock management
- **CUSTOMERS** → **SUBSCRIPTIONS** (1:M) - Customer subscriptions
- **SUBSCRIPTIONS** → **SUBSCRIPTION_ITEMS** (1:M) - Monthly box contents

### **Marketing & Promotion Relationships:**
- **MARKETING_CHANNELS** → **ORDERS** (1:M) - Channel attribution
- **PROMOTIONS** → **CUSTOMER_PROMOTION** (1:M) - Customer assignments
- **PROMOTIONS** → **PRODUCT_PROMOTIONS** (1:M) - Product-specific pricing
- **CUSTOMERS** → **CUSTOMER_PROMOTION** (1:M) - Personal offers

### **Customer Experience Relationships:**
- **CUSTOMERS** → **CUSTOMER_PREFERENCES** (1:1) - Personalization data
- **CUSTOMERS** → **FEEDBACK** (1:M) - Customer reviews
- **ORDERS** → **FEEDBACK** (1:M) - Order-specific feedback
- **PRODUCTS** → **FEEDBACK** (1:M) - Product reviews
- **CUSTOMERS** → **GIFT_CARDS** (1:M as issuer, 1:M as recipient)

## Key Oracle 19c Implementation Features

### **Data Types Used:**
- **NUMBER** - All numeric fields (with precision for currency)
- **VARCHAR2** - Variable-length strings
- **NUMBER(1)** - Boolean flags (0=False, 1=True)
- **CLOB** - Large text fields (storage requirements, preferences, delivery addresses)
- **DATE** - Date fields
- **TIMESTAMP** - Audit trail timestamps

### **Automated Features:**
- **Identity Columns** - Auto-incrementing primary keys using GENERATED BY DEFAULT AS IDENTITY
- **Database Triggers** - Automatic timestamp management, inventory updates, order tracking
- **Check Constraints** - Data validation and business rule enforcement
- **Foreign Key Constraints** - Referential integrity with CASCADE options
- **Unique Constraints** - Prevent duplicates (emails, gift card codes, product names)

### **Business Logic Implementation:**
- **Automatic inventory reduction** on order processing (triggers)
- **Order status change logging** with complete audit trail
- **Gift card balance validation** and automatic updates
- **Promotion usage tracking** with limits and expiry enforcement
- **Mutual exclusivity** for online/in-store product flags
- **Customer segmentation** based on loyalty points and behavior
- **Subscription curation** based on customer preferences

### **Advanced Features:**
- **CLOB fields** for flexible storage of complex data (customer preferences, storage requirements)
- **Bi-directional business rules** enforced at database level
- **Comprehensive audit trails** with timestamp automation
- **Real-time inventory management** with reorder alerts
- **Personalized promotion system** with usage tracking
- **Multi-channel attribution** for marketing ROI analysis

### **Korean Bakery Specific Features:**
- **K-pop/Anime tie-ins** for themed product management
- **Seasonal and limited edition** product lifecycle tracking
- **Subscription box curation** based on customer interests
- **Multi-platform operations** (online and in-store integration)
- **Gift-centric features** for Korean cultural gift-giving traditions
- **Loyalty program** with tier-based benefits

## Database Schema Statistics

- **Total Tables:** 15
- **Total Relationships:** 25+ foreign key relationships
- **Primary Keys:** All auto-generated using Oracle Identity columns
- **Audit Fields:** created_at and updated_at on every table
- **Business Rules:** 50+ check constraints for data validation
- **Triggers:** 30+ triggers for automation and business logic
- **Views:** 10+ reporting and analytics views

This comprehensive schema supports Sweet Seoul Korean Bakery's unique business model combining traditional Korean bakery operations with modern K-pop/anime culture, subscription services, and sophisticated customer relationship management.